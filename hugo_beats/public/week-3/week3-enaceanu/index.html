<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		 
			
  
    <meta name="twitter:card" content="summary"/>
    
      <meta name="twitter:image" content="/images/avatar.png" />
    
  
  
  <meta name="twitter:title" content=""/>
  <meta name="twitter:description" content="Alex’s Blog Week 3 Divide and Conquer (my portion) Project 1 is much more involved and requires a better divide and conquer strategy. Below are the tasks which I have been assigned or am also helping with: Terraform Service Infrastructure - EC2 (Nat Instance) I found terraform code examples that deploy an instance. With some minor modifications I have deployed a new instance to AWS that will act as the NAT and or bastion host."/>
  
    <meta name="twitter:site" content="@your_twitter_id"/>
  
  
  
  
    <meta name="twitter:creator" content="@site_author"/>
  



		
		<meta name="author" content="site_author">
		<meta name="description" content="Site Description">
		<meta name="generator" content="Hugo 0.48" />
		<title> &middot; TEAM EAT</title>
		<link rel="shortcut icon" href="/images/favicon.ico">
		<link rel="stylesheet" href="/css/style.css">
		<link rel="stylesheet" href="/css/highlight.css">

		
		<link rel="stylesheet" href="/css/font-awesome.min.css">
		

		
		<link href="/index.xml" rel="alternate" type="application/rss+xml" title="TEAM EAT" />
		

		
	</head>

    <body>
       <nav class="main-nav">
	
	
		<a href='/'> <span class="arrow">←</span>Home</a>
	
	<a href='/posts'>Archive</a>
	<a href='/tags'>Tags</a>
	<a href='/about'>About</a>

	

	
	<a class="cta" href="/index.xml">Subscribe</a>
	
</nav>


        <section id="wrapper" class="post">
            <article>
                <header>
                    <h1>
                        
                    </h1>
                    <h2 class="headline">
                    Jan 1, 0001 00:00
                    · 571 words
                    · 3 minute read
                      <span class="tags">
                      
                      </span>
                    </h2>
                </header>
                
                  
                    <div id="toc">
                      <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#alex-s-blog-week-3">Alex’s Blog Week 3</a>
<ul>
<li>
<ul>
<li><a href="#ongoing-configurations">Ongoing configurations</a></li>
<li><a href="#remaining-tasks-for-this-weekend">Remaining Tasks for this weekend</a></li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</nav>
                    </div>
                  
                
                <section id="post-body">
                    

<h2 id="alex-s-blog-week-3">Alex’s Blog Week 3</h2>

<p>Divide and Conquer (my portion)
Project 1 is much more involved and requires a better divide and conquer strategy. Below are the tasks which I have been assigned or am also helping with:
Terraform Service Infrastructure - EC2 (Nat Instance)
I found terraform code examples that deploy an instance. With some minor modifications I have deployed a new instance to AWS that will act as the NAT and or bastion host. The operating system is Amazon Linux NAT. Below is the code that I used to do so:</p>

<pre><code>          provider &quot;aws&quot; {
            region = &quot;us-west-2&quot;
          }

          data &quot;aws_ami&quot; &quot;AmazonLinuxNAT&quot; {
            most_recent = true

            filter {
              name   = &quot;name&quot;
              values = [&quot;ubuntu/images/hvm-ssd/ubuntu-trusty-14.04-amd64-server]
            }

            filter {
              name   = &quot;virtualization-type&quot;
              values = [&quot;hvm&quot;]
            }

            owners = [&quot;099720109477&quot;] # Canonical
          }

          resource &quot;aws_instance&quot; &quot;web&quot; {
            ami           = &quot;ami-40d1f038&quot;
            instance_type = &quot;t2.micro&quot;

            tags {
              Name = &quot;NAT Instance&quot;
            }
          }
</code></pre>

<h4 id="ongoing-configurations">Ongoing configurations</h4>

<p>I am still working on configuring a security group for this instance as Amazon recommends in the details of documentation that I have used to work on this task. I understand that we will need to configure rules allowing traffic to our designated private subnet to and from the internet. This subnet will be the one that has the 2 blog servers running behind the load balancer.
The basic rules I will give our NAT security group are allowing inbound traffic from our designated private subnet (the source IP) over ports 80 and 443. Will likely also have traffic from the web (the source IP) allowed on port 22 (SSH). Outbound rules will be any IP 0.0.0.0 ( the destination IP) over ports 80 and 443.</p>

<p>Terraform Service Infrastructure - EC2 (Service instances)
I have modified the code that I used to deploy the NAT instance as detailed above to deploy an instance that runs Ubuntu Server instead. I altered the AMI selection and also the tags that I would give it for easy Identification in EC2. It is as simple as that for deploying an instance. Currently I am testing code that will assign a desired IP address for each and every instance. Below is an example of that code.</p>

<pre><code>        resource &quot;aws_network_interface&quot; &quot;multi-ip&quot; {
          subnet_id   = &quot;${aws_subnet.main.id}&quot;
          private_ips = [&quot;10.0.0.10&quot;, &quot;10.0.0.11&quot;]
        }

        resource &quot;aws_eip&quot; &quot;one&quot; {
          vpc                       = true
          network_interface         = &quot;${aws_network_interface.multi-ip.id}&quot;
          associate_with_private_ip = &quot;10.0.0.10&quot;
        }

        resource &quot;aws_eip&quot; &quot;two&quot; {
          vpc                       = true
          network_interface         = &quot;${aws_network_interface.multi-ip.id}&quot;
          associate_with_private_ip = &quot;10.0.0.11&quot;
        }
</code></pre>

<p>After the testing is done I will allocate an elastic IP with the code below to the NAT/bastion instance.</p>

<pre><code>        resource &quot;aws_eip&quot; &quot;lb&quot; {
          instance = &quot;${aws_instance.web.id}&quot;
          vpc      = true
        }
</code></pre>

<p>Ansible: Playbook - Web server setup and configuration
No work has begun on this as of yet, I plan to install at least 2 virtual machines running Ubuntu Server and having them networked together in a test environment. One will be the host machine that will receive the software configuration from the other VM that will be the server running Ansible. This will establish a baseline for our blog server that can be deployed rapidly, favoring scalability for any potential increase in web traffic. This can be done many ways, I will look into vagrant or I may just use Microsoft Hyper V or even Oracle Virtual box. Eventually Ansible deployment will be conducted on the production environment (AWS)</p>

<h4 id="remaining-tasks-for-this-weekend">Remaining Tasks for this weekend</h4>

<p>Terraform – VPC</p>

<p>Terraform Service Infrastructure - Everything else (joint effort)</p>

<p>Ansible: Playbook - Service deployment</p>

                </section>
            </article>

            
                <a class="twitter" href="https://twitter.com/intent/tweet?text=%2fweek-3%2fweek3-enaceanu%2f -  by @your_twitter_id"><span class="icon-twitter"> tweet</span></a>

<a class="facebook" href="#" onclick="
    window.open(
      'https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(location.href),
      'facebook-share-dialog',
      'width=626,height=436');
    return false;"><span class="icon-facebook-rect"> Share</span>
</a>

            

            
                <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'your_disqus_short_name'; 

     
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>

            

            

            <footer id="footer">
    
        <div id="social">

	
	
    <a class="symbol" href="https://www.facebook.com/nodejh">
        <i class="fa fa-facebook-square"></i>
    </a>
    
    <a class="symbol" href="https://www.github.com/nodejh">
        <i class="fa fa-github-square"></i>
    </a>
    
    <a class="symbol" href="https://www.twitter.com/nodejh">
        <i class="fa fa-twitter-square"></i>
    </a>
    


</div>

    
    <p class="small">
    
       © Copyright 2018 <i class="fa fa-heart" aria-hidden="true"></i> site_author
    
    </p>
    <p class="small">
        Powered by <a href="http://www.gohugo.io/">Hugo</a> Theme By <a href="https://github.com/nodejh/hugo-theme-cactus-plus">nodejh</a>
    </p>
</footer>

        </section>

        <script src="/js/jquery-3.3.1.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>




  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'your_google_analytics_id', 'auto');
	
	ga('send', 'pageview');
}
</script>





    </body>
</html>
